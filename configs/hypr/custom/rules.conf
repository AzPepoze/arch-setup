#-------------------------------------------------------
# Hyprland Window Rules
# See https://wiki.hyprland.org/Configuring/Window-Rules/
#-------------------------------------------------------

#-------------------------------------------------------
# Global Settings
#-------------------------------------------------------
# '$&' is a hyde specific shorthand for "override" -- analogous to a reference
# This symbol indicates that the following values will override the default configuration
$&=override

#-------------------------------------------------------
# Idle Inhibit
#-------------------------------------------------------
# Prevent sleeping when specific applications are fullscreen
windowrule = idleinhibit fullscreen, class:^(.*celluloid.*|.*mpv.*|.*vlc.*|.*[Ss]potify.*|.*LibreWolf.*|.*floorp.*|.*Brave.*|.*firefox.*|.*chromium.*|.*zen.*|.*vivaldi.*)$

#-------------------------------------------------------
# Opacity Rules
#-------------------------------------------------------
# Browsers (Active/Inactive Override)
windowrule = opacity 0.90 $& 0.90 $& 1, class:^(firefox|Brave-browser)$

# Terminals, IDEs, File Managers (Active/Inactive Override)
windowrule = opacity 0.80 $& 0.80 $& 1, class:^(kitty|code-oss|[Cc]ode|code-url-handler|code-insiders-url-handler|org.kde.dolphin|org.kde.ark)$

# GUI Theming Tools (Active/Inactive Override)
windowrule = opacity 0.80 $& 0.80 $& 1, class:^(nwg-look|qt5ct|qt6ct|kvantummanager)$

# System Controls & Dialogs (Active/Inactive Override)
windowrule = opacity 0.80 $& 0.70 $& 1, class:^(org.pulseaudio.pavucontrol|blueman-manager|nm-applet|nm-connection-editor|org.kde.polkit-kde-authentication-agent-1|polkit-gnome-authentication-agent-1|org.freedesktop.impl.portal.desktop.gtk|org.freedesktop.impl.portal.desktop.hyprland)$

# Spotify (Active/Inactive Override)
windowrule = opacity 0.70 $& 0.70 $& 1, class:^([Ss]potify)$
windowrule = opacity 0.70 $& 0.70 $& 1, initialTitle:^(Spotify Free|Spotify Premium)$

# Other Applications
windowrule = opacity 0.80 0.80,class:^(io.missioncenter.MissionCenter)$ # MissionCenter-Gtk

#-------------------------------------------------------
# Application-Specific Rules
#-------------------------------------------------------
# Cava Visualizer
windowrulev2 = float, opacity 1, move 0 -10, size 100% 10%, noborder, noshadow, noblur, pin, title:^(cava)$
# windowrulev2 = nofocus, title:^(cava)$
# windowrulev2 = workspace special silent, title:^(cava)$

# Hyprland Share Picker
windowrule = float, class:^(hyprland-share-picker)$

#-------------------------------------------------------
# Layer Rules
#-------------------------------------------------------
layerrule = blur, cava
layerrule = blur, quickshell:dock
layerrule = ignorealpha 0.5, quickshell:dock
layerrule = blur, quickshell:bar
layerrule = ignorealpha 0.4, quickshell:bar

#-------------------------------------------------------
# Inactive / Example Rules
#-------------------------------------------------------
# This section contains commented-out rules for reference or easy activation.

# Picture-in-Picture (Firefox)
# windowrulev2 = float, pin, keepaspectratio, move 73% 72%, size 25%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$

# Floating Windows
# windowrule = float,class:^(org.kde.dolphin)$,title:^(Progress Dialog — Dolphin|Copying — Dolphin)$
# windowrule = float,class:^(vlc|kvantummanager|qt5ct|qt6ct|nwg-look|org.kde.ark|org.pulseaudio.pavucontrol|blueman-manager|nm-applet|nm-connection-editor|org.kde.polkit-kde-authentication-agent-1)$
# windowrule = float,class:^(Signal|com.github.rafostar.Clapper|app.drey.Warp|net.davidotek.pupgui2|yad|eog|io.github.alainm23.planify|io.gitlab.theevilskeleton.Upscaler|com.github.unrud.VideoDownloader|io.gitlab.adhami3310.Impression|io.missioncenter.MissionCenter)$
# windowrule = float,class:^(kitty)$,title:^(top|btop|htop)$
# windowrule = float,class:^(firefox)$,title:^(Picture-in-Picture|Library|About Mozilla Firefox)$

# Common Modals
# windowrule = float,class:^([Xx]dg-desktop-portal-gtk)$
# windowrule = float,title:^(Open|Authentication Required|Add Folder to Workspace|Choose Files|Save As|Confirm to replace files|File Operation Progress|File Upload.*|Choose wallpaper.*|Library.*|.*dialog.*)$
# windowrule = float,initialtitle:^(Open File)$

# Opacity
# windowrule = opacity 0.90 0.90,class:^(com.github.rafostar.Clapper)$ # Clapper-Gtk
# windowrule = opacity 0.80 0.80,class:^(com.github.tchx84.Flatseal|hu.kramo.Cartridges|com.obsproject.Studio|gnome-boxes|vesktop|discord|WebCord|ArmCord|app.drey.Warp|net.davidotek.pupgui2|yad|Signal|io.github.alainm23.planify|io.gitlab.theevilskeleton.Upscaler|com.github.unrud.VideoDownloader|io.gitlab.adhami3310.Impression|io.github.flattool.Warehouse)$
# windowrule = opacity 0.70 $& 0.70 $& 1,class:^([Ss]team|steamwebhelper)$

# Layer Rules
# layerrule = blur,rofi
# layerrule = ignorezero,rofi
# layerrule = blur,notifications
# layerrule = ignorezero,notifications
# layerrule = blur,swaync-notification-window
# layerrule = ignorezero,swaync-notification-window
# layerrule = blur,swaync-control-center
# layerrule = ignorezero,swaync-control-center
# layerrule = blur,logout_dialog
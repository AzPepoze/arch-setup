# See https://wiki.hyprland.org/Configuring/Window-Rules/

#-------------------------------------------------------
# [Idle Inhibit]
#-------------------------------------------------------
# Prevent idling when media or browser is fullscreen
windowrulev2 = idleinhibit fullscreen, class:^((.*[Cc]elluloid.*)|(.*[Mm]pv.*)|(.*[Vv]lc.*)|(.*[Ss]potify.*)|(.*[Ll]ibre[Ww]olf.*)|(.*[Ff]loorp.*)|(.*[Bb]rave.*)|(.*[Ff]irefox.*)|(.*[Cc]hromium.*)|(.*[Zz]en.*)|(.*[Vv]ivaldi.*))$


#-------------------------------------------------------
# [Opacity Rules]
#-------------------------------------------------------

# Opacity 0.9
windowrulev2 = opacity 0.90 0.90 1, class:^((firefox)|(Brave-browser))$

# Opacity 0.8
windowrulev2 = opacity 0.80 0.80 1, class:^((code-oss)|([Cc]ode)|(code-url-handler)|(code-insiders-url-handler)|(kitty)|(org.kde.dolphin)|(org.kde.ark)|(nwg-look)|(qt5ct)|(qt6ct)|(kvantummanager))$
windowrulev2 = opacity 0.80 0.80, class:^((com.github.rafostar.Clapper)|(com.github.tchx84.Flatseal)|(hu.kramo.Cartridges)|(com.obsproject.Studio)|(gnome-boxes)|(vesktop)|(discord)|(WebCord)|(ArmCord)|(app.drey.Warp)|(net.davidotek.pupgui2)|(yad)|(Signal)|(io.github.alainm23.planify)|(io.gitlab.theevilskeleton.Upscaler)|(com.github.unrud.VideoDownloader)|(io.gitlab.adhami3310.Impression)|(io.missioncenter.MissionCenter)|(io.github.flattool.Warehouse))$

# Opacity 0.8 (Inactive 0.7)
windowrulev2 = opacity 0.80 0.70 1, class:^((org.pulseaudio.pavucontrol)|(blueman-manager)|(nm-applet)|(nm-connection-editor)|(org.kde.polkit-kde-authentication-agent-1)|(polkit-gnome-authentication-agent-1)|(org.freedesktop.impl.portal.desktop.gtk)|(org.freedesktop.impl.portal.desktop.hyprland))$

# Opacity 0.7
windowrulev2 = opacity 0.70 0.70 1, class:^([Ss]potify)$
windowrulev2 = opacity 0.70 0.70 1, initialTitle:^((Spotify Free)|(Spotify Premium))$
windowrulev2 = opacity 0.70 0.70 1, class:^([Ss]team|steamwebhelper)$


#-------------------------------------------------------
# [Floating Windows]
#-------------------------------------------------------
# Rules to make specific windows float by default.

# System & Toolkits
windowrulev2 = float, class:^((hyprland-share-picker)|(nwg-look)|(qt5ct)|(qt6ct)|(kvantummanager)|(org.pulseaudio.pavucontrol)|(blueman-manager)|(nm-applet)|(nm-connection-editor)|(org.kde.polkit-kde-authentication-agent-1))$

# Common Dialogs
windowrulev2 = float, title:^((Open|Save As|Choose|Select|View) (File|Files|Folder|Directory|Image|Wallpaper).*)$
windowrulev2 = float, title:^((Authentication Required)|(Add Folder to Workspace)|(Confirm to replace files)|(File Operation Progress)|(Progress Dialog)|(Library)|(About .*))$
windowrulev2 = float, class:^([Xx]dg-desktop-portal-.*)$
windowrulev2 = float, class:^(.*dialog.*)$, title:^(.*dialog.*)$

# Applications
windowrulev2 = float, class:^((org.kde.ark)|(org.kde.dolphin)|(vlc)|(Signal)|(com.github.rafostar.Clapper)|(app.drey.Warp)|(net.davidotek.pupgui2)|(yad)|(eog)|(io.github.alainm23.planify)|(io.gitlab.theevilskeleton.Upscaler)|(com.github.unrud.VideoDownloader)|(io.gitlab.adhami3310.Impression)|(io.missioncenter.MissionCenter))$
windowrulev2 = float, class:^(kitty)$, title:^((top)|(btop)|(htop))$
windowrulev2 = float, class:^(firefox)$, title:^((Picture-in-Picture)|(Library))$


#-------------------------------------------------------
# [Picture-in-Picture]
#-------------------------------------------------------
windowrulev2 = float, title:^([Pp]icture-in-[Pp]icture)$
windowrulev2 = keepaspectratio, title:^([Pp]icture-in-[Pp]icture)$
windowrulev2 = move 73% 72%, title:^([Pp]icture-in-[Pp]icture)$
windowrulev2 = size 25%, title:^([Pp]icture-in-[Pp]icture)$
windowrulev2 = pin, title:^([Pp]icture-in-[Pp]icture)$


#-------------------------------------------------------
# [Application Specific Rules]
#-------------------------------------------------------

# Cava
windowrulev2 = float, title:^(cava)$
windowrulev2 = opacity 1, title:^(cava)$
windowrulev2 = move 0 -10, title:^(cava)$
windowrulev2 = size 100% 10%, title:^(cava)$
windowrulev2 = noborder, title:^(cava)$
windowrulev2 = noshadow, title:^(cava)$
windowrulev2 = noblur, title:^(cava)$
windowrulev2 = pin, title:^(cava)$
windowrulev2 = nofocus, title:^(cava)$
windowrulev2 = workspace special silent, title:^(cava)$


#-------------------------------------------------------
# [Layer Rules]
#-------------------------------------------------------
# Rules for effects on layers (e.g., rofi, notifications)
layerrule = blur, rofi
layerrule = ignorezero, rofi
layerrule = blur, notifications
layerrule = ignorezero, notifications
layerrule = blur, swaync-notification-window
layerrule = ignorezero, swaync-notification-window
layerrule = blur, swaync-control-center
layerrule = ignorezero, swaync-control-center
layerrule = blur, logout_dialog
layerrule = blur, cava

# Quickshell
layerrule = blur, quickshell:dock
layerrule = ignorealpha 0.1, quickshell:dock

layerrule = blur, quickshell:bar
layerrule = ignorealpha 0.3, quickshell:bar

layerrule = blur, quickshell:sidebar(Left|Right)
layerrule = ignorealpha 0.15, quickshell:sidebar(Left|Right)
layerrule = xray 0, quickshell:sidebar(Left|Right)

layerrule = blur, quickshell:notificationPopup
layerrule = ignorealpha 0.5, quickshell:notificationPopup
layerrule = xray 0, quickshell:notificationPopup